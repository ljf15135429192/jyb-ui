import{A as g,y as R,e as t,C as E,L as M,$ as Y,D as q,g as x,u as $}from"./vue-libs-9b0981d5.js";import{p as G,a as J,P as N}from"./index-9fc963e1.js";import{B as b}from"./index-fb8599c9.js";import{c as S,u as Q,t as P,w as F,e as I,a as W,n as X,d as Z,g as ee,p as te,f as ne,T,L as oe}from"./index-137ae4a8.js";import{u as ae}from"./use-placeholder-6fd570b8.js";import{a as le,c as se}from"./use-touch-7ef5a55b.js";import{r as ce,u as ue,d as re,e as ie}from"./use-route-8dafc2dc.js";import{s as de,c as me}from"./function-call-1ec1bbbb.js";import{u as fe}from"./useFontScale-afa8cc55.js";import"./index-d9be5e18.js";const[K,k]=S("action-bar"),L=Symbol(K),ge={placeholder:Boolean,safeAreaInsetBottom:P};var Be=g({name:K,props:ge,setup(e,{slots:o}){const a=R(),l=ae(a,k),{linkChildren:s}=Q(L);s();const d=()=>{var c;return t("div",{ref:a,class:[k(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(c=o.default)==null?void 0:c.call(o)])};return()=>e.placeholder?l(d):d()}});const Ce=F(Be),[he,we]=S("action-bar-button"),be=I({},ce,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var ve=g({name:he,props:be,setup(e,{slots:o}){const a=ue(),{parent:l,index:s}=W(L),d=E(()=>{if(l){const r=l.children[s.value-1];return!(r&&"isButton"in r)}}),c=E(()=>{if(l){const r=l.children[s.value+1];return!(r&&"isButton"in r)}});return le({isButton:!0}),()=>{const{type:r,icon:B,text:C,color:v,loading:y,disabled:p}=e;return t(b,{class:we([r,{last:c.value,first:d.value}]),size:"large",type:r,icon:B,color:v,loading:y,disabled:p,onClick:a},{default:()=>[o.default?o.default():C]})}}});const D=F(ve),[ye,i,w]=S("dialog"),pe=I({},G,{title:String,theme:String,width:X,message:[String,Function],callback:Function,allowHtml:Boolean,className:Z,transition:ee("van-dialog-bounce"),messageAlign:String,closeOnPopstate:P,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:P,closeOnClickOverlay:Boolean}),_e=[...J,"transition","closeOnPopstate"];var xe=g({name:ye,props:pe,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:o,slots:a}){const l=R(),s=M({confirm:!1,cancel:!1}),d=n=>o("update:show",n),c=n=>{var u;d(!1),(u=e.callback)==null||u.call(e,n)},r=n=>()=>{e.show&&(o(n),e.beforeClose?(s[n]=!0,se(e.beforeClose,{args:[n],done(){c(n),s[n]=!1},canceled(){s[n]=!1}})):c(n))},B=r("cancel"),C=r("confirm"),v=Y(n=>{var u,m;if(n.target!==((m=(u=l.value)==null?void 0:u.popupRef)==null?void 0:m.value))return;({Enter:e.showConfirmButton?C:T,Escape:e.showCancelButton?B:T})[n.key](),o("keydown",n)},["enter","esc"]),y=()=>{const n=a.title?a.title():e.title;if(n)return t("div",{class:i("header",{isolated:!e.message&&!a.default})},[n])},p=n=>{const{message:u,allowHtml:m,messageAlign:f}=e,h=i("message",{"has-title":n,[f]:f}),_=oe(u)?u():u;return m&&typeof _=="string"?t("div",{class:h,innerHTML:_},null):t("div",{class:h},[_])},H=()=>{if(a.default)return t("div",{class:i("content")},[a.default()]);const{title:n,message:u,allowHtml:m}=e;if(u){const f=!!(n||a.title);return t("div",{key:m?1:0,class:i("content",{isolated:!f})},[p(f)])}},j=()=>t("div",{class:[ie,i("footer")]},[e.showCancelButton&&t(b,{size:"large",text:e.cancelButtonText||w("cancel"),class:i("cancel"),style:{color:e.cancelButtonColor},loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:B},null),e.showConfirmButton&&t(b,{size:"large",text:e.confirmButtonText||w("confirm"),class:[i("confirm"),{[re]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:C},null)]),U=()=>t(Ce,{class:i("footer")},{default:()=>[e.showCancelButton&&t(D,{type:"warning",text:e.cancelButtonText||w("cancel"),class:i("cancel"),color:e.cancelButtonColor,loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:B},null),e.showConfirmButton&&t(D,{type:"danger",text:e.confirmButtonText||w("confirm"),class:i("confirm"),color:e.confirmButtonColor,loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:C},null)]}),z=()=>a.footer?a.footer():e.theme==="round-button"?U():j();return()=>{const{width:n,title:u,theme:m,message:f,className:h}=e;return t(N,q({ref:l,role:"dialog",class:[i([m]),h],style:{width:ne(n)},tabindex:0,"aria-labelledby":u||f,onKeydown:v,"onUpdate:show":d},te(e,_e)),{default:()=>[y(),H(),z()]})}}});const Ee=F(xe);const V=g({name:"Download",components:{},props:{modelValue:{type:Boolean,default:()=>!1}},emits:["downConfirm","update:modelValue"],setup(e,{emit:o,attrs:a}){function l(){o("downConfirm")}return()=>t("div",null,[t(N,{show:e.modelValue,"onUpdate:show":s=>e.modelValue=s,round:!0,class:"common__popup","close-on-click-overlay":!0},{default:()=>[t("div",{class:"common"},[t("div",{class:"common__header"},[t("img",{src:"https://shigongbang.obs.cn-east-3.myhuaweicloud.com/app/2022/02/1644486599587.png",class:"common__header-img"},null)]),t("div",{class:"common__main-text"},[x("请在经营帮APP中体验完整功能")]),t("div",{class:"common__subtitle"},[x("各大应用市场搜索“经营帮”即可下载")]),t("div",{class:"common__footer"},[t(b,{type:"danger",round:!0,class:"common__confirm-btn",onClick:l},{default:()=>[x("确认")]})])])]})])}});const A=g({name:"Login",props:{modelValue:{type:Boolean,default:()=>!1}},emits:["loginConfirm","beforeClose","update:modelValue"],setup(e,{emit:o,attrs:a}){E({get:()=>e.modelValue,set:c=>{o("update:modelValue",c)}});const l=()=>{},s=()=>{},d=c=>{c==="confirm"?o("loginConfirm"):c==="cancel"&&o("update:modelValue",!1)};return()=>t("div",null,[t(Ee,{show:e.modelValue,"onUpdate:show":c=>e.modelValue=c,title:"温馨提示","show-cancel-button":!0,message:"此操作需要登录,是否去登录?",onConfirm:l,onCancel:s,"before-close":d},null)])}}),O=g({props:{modelValue:{type:Boolean,default:()=>!1},type:String,toastConfig:{type:Object,default:()=>{}}},emits:["update:modelValue"],setup(e,{emit:o}){function a(){var l;de({message:"功能开发中",...e.toastConfig,onClose:()=>{}}),setTimeout(()=>{o("update:modelValue",!1)},((l=e.toastConfig)==null?void 0:l.duration)||2e4)}return $(()=>e.modelValue,l=>{l&&a()},{immediate:!0}),()=>t("div",null,null)}}),$e=g({components:{download:V,login:A,toast:O},props:{type:String},setup(e,{attrs:o}){const{fontClass:a}=fe({name:"jyb-modal-scale"});return $(()=>e.type,(l,s)=>{s==="dev"&&me()}),()=>t("div",{class:a.value},[e.type==="down"&&t(V,o,null),e.type==="login"&&t(A,o,null),e.type==="dev"&&t(O,o,null)])}});export{$e as j};
